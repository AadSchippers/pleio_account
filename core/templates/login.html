{% extends "base.html" %}
{% load i18n %}

{% block content %}

{% if wizard.steps.current == 'auth' %}


<p>Welkom op Pleio. Vul je gegevens in om in te loggen.</p>

<ul class="messages error">
    {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
    {% endfor %}
</ul>

<form method="post" action=".">
    {% csrf_token %}
    {% include "two_factor/_wizard_forms.html" %}
    {# hidden submit button to enable [enter] key #}
    <div style="margin-left: -9999px"><input type="submit" value=""/></div>

    <fieldset>
        <div class="input-field">
            <label for="id_username">{% trans "Email" %}</label>
            {{ form.errors.username }}
            {{ form.username }}
        </div>
        <div class="input-field">
            <label for="id_password">{% trans "Password" %}</label>
            {{ form.errors.password }}
            {{ form.password }}
        </div>

        <div class="login__buttons">
            <button name="login" class="button ___stretch ___active login__login" type="submit">{% trans "Login" %}</button>

            <div class="forgot-password">
                <ul>
                    <li><a href="{% url 'password_reset' %}">Wachtwoord vergeten</a></li>
                    <li><a href="{% url 'register' %}">Registeren</a></li>
                </ul>
            </div>
        </div>
    </fieldset>
    <input type="hidden" name="next" value="{{next}}" />
    <p></p>
    <input type="checkbox" name="persistent" class="filled-in" id="persistent" value="true">
    <label for="persistent">Onthoud mij</label>

    {% elif wizard.steps.current == 'token' %}
        <p>{% blocktrans %}Please enter the tokens generated by your token
            generator.{% endblocktrans %}</p>
    {% include "two_factor/_wizard_forms2.html" %}
            <button name="volgende" class="button ___stretch ___active login__login" type="submit">{% trans "Login" %}</button>

    {% elif wizard.steps.current == 'backup' %}
        <p>{% blocktrans %}Use this form for entering backup tokens for logging in.
             These tokens have been generated for you to print and keep safe. Please
             enter one of these backup tokens to login to your account.{% endblocktrans %}</p>
  {% endif %}
</form>

{% endblock %}